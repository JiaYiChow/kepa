import _ from "lodash";
import React, { useEffect, useRef, useState } from "react";
import { KEY_TO_NOTE, NOTE_LIST } from "../constants/Notes";
import Ellipse from "./Ellipse";
import "./Pipa.module.css";
import Position from "./Position";

export default function Pipa({isRecording, setAudioChunks}) {
  const [position, setPosition] = useState(0);
  const [activeNotes, setActiveNotes] = useState([]);
  const divRef = useRef(null);
  const audioElements = useRef({});

  const audioFiles = _.map(NOTE_LIST, (note, index) => {
    return (
      <audio
        id={note}
        key={index}
        src={`kepa/assets/sounds/${note}.m4a`}
        ref={(el) => (audioElements.current[index] = el)}
      />
    );
  });

  const playMusic = (note) => {
    if (NOTE_LIST.includes(note)) {
      setActiveNotes((curr) => [...curr, note]);
      const element = document.getElementById(note);
      element.play();
      if (isRecording) {
        setAudioChunks((curr) => [...curr, note]);
      }
    }
  };

  const stopPlayMusic = (note) => {
    setActiveNotes(activeNotes.filter((activeNote) => activeNote !== note));
  };

  const handleMouseUp = (event) => {
    if (event.target.tagName === "ellipse") {
      stopPlayMusic(event.target.id);
    }
  };

  const handleMouseDown = (event) => {
    if (event.target.tagName === "ellipse") {
      playMusic(event.target.id);
    }
  };

  const handleKeyDown = ({ key }) => {
    if (key === "ArrowRight") {
      setPosition(Math.min(position + 1, 4));
    } else if (key === "ArrowLeft") {
      setPosition(Math.max(position - 1, 0));
    } else {
      playMusic(KEY_TO_NOTE[key][position]);
    }
  };

  const handleKeyUp = ({ key }) => {
    //TODO add validation for the specific keys otherwise i will have stupid errors
    stopPlayMusic(KEY_TO_NOTE[key][position]);
  };

  useEffect(() => {
    divRef.current.focus();
  }, []);

  return (
    <div
      ref={divRef}
      tabIndex={0}
      autoFocus
      onKeyDown={handleKeyDown}
      onKeyUp={handleKeyUp}
      onMouseDown={handleMouseDown}
      onMouseUp={handleMouseUp}
    >
      <div>{audioFiles}</div>
      <svg
        viewBox="0 0 285.75 108"
        version="1.1"
        id="svg5"
        xmlns="http://www.w3.org/2000/svg"
      >
        <defs id="defs2" />
        <image data-testid="image" id="image22" href="kepa/pipa drawing.svg" />
        <Position
          id="position1"
          position={0}
          onPositionChange={position}
          width="67.297012"
          height="30.461143"
          x="59.022797"
          y="34.46111"
        />
        <Position
          id="position2"
          position={1}
          onPositionChange={position}
          width="37.742825"
          height="30.763399"
          x="126.27486"
          y="34.41109"
        />
        <Position
          id="position4"
          position={3}
          onPositionChange={position}
          width="24.58532"
          height="30.660017"
          x="184.29456"
          y="34.7494"
        />
        <Position
          id="position5"
          position={4}
          onPositionChange={position}
          width="18.911154"
          height="30.93129"
          x="206.002"
          y="34.6138"
        />
        <Position
          id="position3"
          position={2}
          onPositionChange={position}
          width="26.390707"
          height="30.785168"
          x="160.90262"
          y="34.49294"
        />
        <g id="layer4" style={{ display: "inline" }}>
          <Ellipse
            data-testid="pointer"
            id="E4_1"
            activeNotes={activeNotes}
            cx="129.94571"
            cy="45.11385"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="A3_2"
            activeNotes={activeNotes}
            cx="112.5012"
            cy="48.02885"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="G3_3"
            activeNotes={activeNotes}
            cx="112.5012"
            cy="50.76167"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Gb5_1"
            activeNotes={activeNotes}
            cx="199.36697"
            cy="44.50845"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Gb4_4"
            activeNotes={activeNotes}
            cx="199.36658"
            cy="55.68076"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="B4_3"
            activeNotes={activeNotes}
            cx="199.36658"
            cy="52.21918"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Db5_2"
            activeNotes={activeNotes}
            cx="199.36658"
            cy="48.30212"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="G5_1"
            activeNotes={activeNotes}
            cx="202.26485"
            cy="44.5444"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="G4_4"
            activeNotes={activeNotes}
            cx="202.26459"
            cy="55.95404"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="C5_3"
            activeNotes={activeNotes}
            cx="202.26459"
            cy="52.03699"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="D5_2"
            activeNotes={activeNotes}
            cx="202.26459"
            cy="48.39323"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Ab4_4"
            activeNotes={activeNotes}
            cx="205.23459"
            cy="55.77185"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Db5_3"
            activeNotes={activeNotes}
            cx="205.23459"
            cy="51.94591"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Eb5_2"
            activeNotes={activeNotes}
            cx="205.23459"
            cy="48.48433"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Ab5_1"
            activeNotes={activeNotes}
            cx="205.23499"
            cy="44.56728"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="A5_1"
            activeNotes={activeNotes}
            cx="207.61284"
            cy="44.4819"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="E5_2"
            activeNotes={activeNotes}
            cx="207.61258"
            cy="48.57541"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="D5_3"
            activeNotes={activeNotes}
            cx="207.61258"
            cy="51.9633"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="A4_4"
            activeNotes={activeNotes}
            cx="207.61258"
            cy="55.77185"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Bb5_1"
            activeNotes={activeNotes}
            cx="210.04213"
            cy="44.54073"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="F5_2"
            activeNotes={activeNotes}
            cx="210.04259"
            cy="48.64911"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Eb5_3"
            activeNotes={activeNotes}
            cx="210.04259"
            cy="52.38396"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="B5_1"
            activeNotes={activeNotes}
            cx="212.52251"
            cy="44.56728"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Gb5_2"
            activeNotes={activeNotes}
            cx="212.52251"
            cy="48.48431"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="E5_3"
            activeNotes={activeNotes}
            cx="212.52251"
            cy="52.40137"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="C6_1"
            activeNotes={activeNotes}
            cx="214.52658"
            cy="44.65837"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="G5_2"
            activeNotes={activeNotes}
            cx="214.52658"
            cy="48.6665"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="F5_3"
            activeNotes={activeNotes}
            cx="214.52658"
            cy="52.38396"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Db6_1"
            activeNotes={activeNotes}
            cx="216.64828"
            cy="44.59586"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Ab5_2"
            activeNotes={activeNotes}
            cx="216.64857"
            cy="48.55801"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Gb5_3"
            activeNotes={activeNotes}
            cx="216.64857"
            cy="52.12808"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="D6_1"
            activeNotes={activeNotes}
            cx="218.62581"
            cy="44.47618"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="A5_2"
            activeNotes={activeNotes}
            cx="218.62558"
            cy="48.6665"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="G5_3"
            activeNotes={activeNotes}
            cx="218.62558"
            cy="52.31027"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="E6_1"
            activeNotes={activeNotes}
            cx="222.26958"
            cy="44.38509"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="B5_2"
            activeNotes={activeNotes}
            cx="222.32471"
            cy="48.52029"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="A5_3"
            activeNotes={activeNotes}
            cx="222.32458"
            cy="52.54672"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="F4_4"
            activeNotes={activeNotes}
            cx="196.21658"
            cy="55.68076"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Bb4_3"
            activeNotes={activeNotes}
            cx="196.21658"
            cy="51.8548"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="C5_2"
            activeNotes={activeNotes}
            cx="196.21658"
            cy="48.39323"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="F5_1"
            activeNotes={activeNotes}
            cx="196.21666"
            cy="44.65837"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="E4_4"
            activeNotes={activeNotes}
            cx="192.84659"
            cy="55.68076"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="A4_3"
            activeNotes={activeNotes}
            cx="192.84659"
            cy="51.7637"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="B4_2"
            activeNotes={activeNotes}
            cx="192.84659"
            cy="48.30214"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="E5_1"
            activeNotes={activeNotes}
            cx="192.84618"
            cy="44.65837"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Eb4_4"
            activeNotes={activeNotes}
            cx="189.29358"
            cy="55.58966"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Ab4_3"
            activeNotes={activeNotes}
            cx="189.29358"
            cy="51.67262"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Bb4_2"
            activeNotes={activeNotes}
            cx="189.29358"
            cy="48.39323"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Eb5_1"
            activeNotes={activeNotes}
            cx="189.29352"
            cy="44.84056"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="D4_4"
            activeNotes={activeNotes}
            cx="185.55858"
            cy="55.31638"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="G4_3"
            activeNotes={activeNotes}
            cx="185.55858"
            cy="51.67262"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="A4_2"
            activeNotes={activeNotes}
            cx="185.55865"
            cy="48.30214"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="D5_1"
            activeNotes={activeNotes}
            cx="185.55865"
            cy="44.74947"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Db4_4"
            activeNotes={activeNotes}
            cx="181.45958"
            cy="55.49857"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="F4_3"
            activeNotes={activeNotes}
            cx="177.08658"
            cy="51.85481"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Ab4_2"
            activeNotes={activeNotes}
            cx="181.45958"
            cy="48.30214"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Db5_1"
            activeNotes={activeNotes}
            cx="181.45943"
            cy="44.74947"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="C4_4"
            activeNotes={activeNotes}
            cx="177.26909"
            cy="55.13419"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Gb4_3"
            activeNotes={activeNotes}
            cx="181.45941"
            cy="51.67262"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="G4_2"
            activeNotes={activeNotes}
            cx="177.08658"
            cy="48.30214"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="C5_1"
            activeNotes={activeNotes}
            cx="177.0869"
            cy="44.93166"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="B3_4"
            activeNotes={activeNotes}
            cx="172.4411"
            cy="54.87831"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="E4_3"
            activeNotes={activeNotes}
            cx="172.5322"
            cy="51.50783"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Gb4_2"
            activeNotes={activeNotes}
            cx="172.5322"
            cy="48.21104"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="B4_1"
            activeNotes={activeNotes}
            cx="172.5322"
            cy="44.74947"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Bb3_4"
            activeNotes={activeNotes}
            cx="167.88658"
            cy="54.69612"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Eb4_3"
            activeNotes={activeNotes}
            cx="167.88658"
            cy="51.32564"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="F4_2"
            activeNotes={activeNotes}
            cx="167.88658"
            cy="48.04626"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Bb4_1"
            activeNotes={activeNotes}
            cx="167.8864"
            cy="45.02275"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="A3_4"
            activeNotes={activeNotes}
            cx="162.60258"
            cy="54.58763"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="D4_3"
            activeNotes={activeNotes}
            cx="162.60258"
            cy="51.49043"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="E4_2"
            activeNotes={activeNotes}
            cx="162.60258"
            cy="48.39323"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="A4_1"
            activeNotes={activeNotes}
            cx="162.60295"
            cy="44.58469"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Ab3_4"
            activeNotes={activeNotes}
            cx="156.95511"
            cy="54.67873"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Db4_3"
            activeNotes={activeNotes}
            cx="156.86401"
            cy="51.49043"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Eb4_2"
            activeNotes={activeNotes}
            cx="156.49963"
            cy="48.30214"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Ab4_1"
            activeNotes={activeNotes}
            cx="156.68182"
            cy="44.74947"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="G3_4"
            activeNotes={activeNotes}
            cx="150.66962"
            cy="54.58763"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="C4_3"
            activeNotes={activeNotes}
            cx="150.85181"
            cy="51.49043"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="D4_2"
            activeNotes={activeNotes}
            cx="150.66962"
            cy="48.21104"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="G4_1"
            activeNotes={activeNotes}
            cx="150.85181"
            cy="44.84056"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Gb3_4"
            activeNotes={activeNotes}
            cx="144.01974"
            cy="54.13216"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="B3_3"
            activeNotes={activeNotes}
            cx="144.01974"
            cy="50.94386"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Db4_2"
            activeNotes={activeNotes}
            cx="144.20193"
            cy="48.02885"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Gb4_1"
            activeNotes={activeNotes}
            cx="144.11084"
            cy="44.84056"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="F3_4"
            activeNotes={activeNotes}
            cx="137.27879"
            cy="54.22325"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Bb3_3"
            activeNotes={activeNotes}
            cx="137.27879"
            cy="51.12605"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="C4_2"
            activeNotes={activeNotes}
            cx="137.1877"
            cy="48.02885"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="F4_1"
            activeNotes={activeNotes}
            cx="137.27879"
            cy="44.84056"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="E3_4"
            activeNotes={activeNotes}
            cx="129.4447"
            cy="53.85887"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="B3_2"
            activeNotes={activeNotes}
            cx="130.08235"
            cy="48.02885"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="D3_4"
            activeNotes={activeNotes}
            cx="112.59229"
            cy="53.4034"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="A3_3"
            activeNotes={activeNotes}
            cx="129.62689"
            cy="50.67058"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Bb3_1"
            activeNotes={activeNotes}
            cx="73.512924"
            cy="45.56931"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="A3_1"
            activeNotes={activeNotes}
            cx="61.925999"
            cy="45.21553"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="E3_2"
            activeNotes={activeNotes}
            cx="61.829189"
            cy="47.60352"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="D3_3"
            activeNotes={activeNotes}
            cx="61.73238"
            cy="49.37836"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="A2_4"
            activeNotes={activeNotes}
            cx="61.925999"
            cy="51.31454"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="F3_2"
            activeNotes={activeNotes}
            cx="73.421829"
            cy="47.66447"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="D4_1"
            activeNotes={activeNotes}
            cx="112.59229"
            cy="45.11383"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Db3_4"
            activeNotes={activeNotes}
            cx="103.3007"
            cy="52.94792"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Gb3_3"
            activeNotes={activeNotes}
            cx="103.3007"
            cy="50.48839"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Ab3_2"
            activeNotes={activeNotes}
            cx="103.39179"
            cy="47.75557"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Db4_1"
            activeNotes={activeNotes}
            cx="103.39179"
            cy="45.11383"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="C3_4"
            activeNotes={activeNotes}
            cx="93.918007"
            cy="52.67465"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="F3_3"
            activeNotes={activeNotes}
            cx="93.918007"
            cy="50.39729"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="C4_1"
            activeNotes={activeNotes}
            cx="94.009102"
            cy="45.20493"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="B2_4"
            activeNotes={activeNotes}
            cx="83.806564"
            cy="52.31027"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="E3_3"
            activeNotes={activeNotes}
            cx="83.806564"
            cy="49.94182"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Gb3_2"
            activeNotes={activeNotes}
            cx="83.897659"
            cy="47.57338"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="B3_1"
            activeNotes={activeNotes}
            cx="83.897659"
            cy="45.29602"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Bb2_4"
            activeNotes={activeNotes}
            cx="72.966362"
            cy="51.94589"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Eb3_3"
            activeNotes={activeNotes}
            cx="73.057457"
            cy="49.75963"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="G3_2"
            activeNotes={activeNotes}
            cx="94.009102"
            cy="47.75555"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Eb4_1"
            activeNotes={activeNotes}
            cx="121.81899"
            cy="44.92511"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Bb3_2"
            activeNotes={activeNotes}
            cx="121.75446"
            cy="47.79713"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Ab3_3"
            activeNotes={activeNotes}
            cx="121.62537"
            cy="50.60461"
            rx="1.047582"
            ry="1.1842231"
          />
          <Ellipse
            id="Eb3_4"
            activeNotes={activeNotes}
            cx="121.72218"
            cy="53.31529"
            rx="1.047582"
            ry="1.1842231"
          />
        </g>
      </svg>
    </div>
  );
}
